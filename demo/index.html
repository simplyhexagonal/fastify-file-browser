<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>File Browser</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ“‚</text></svg>">
  <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
  <style>
/*
! tailwindcss v3.2.7 | MIT License | https://tailwindcss.com
*/

/*
1. Prevent padding and border from affecting element width. (https://github.com/mozdevs/cssremedy/issues/4)
2. Allow adding a border to an element by just adding a border-width. (https://github.com/tailwindcss/tailwindcss/pull/116)
*/

*,
::before,
::after {
  box-sizing: border-box;
  /* 1 */
  border-width: 0;
  /* 2 */
  border-style: solid;
  /* 2 */
  border-color: #e5e7eb;
  /* 2 */
}

::before,
::after {
  --tw-content: '';
}

/*
1. Use a consistent sensible line-height in all browsers.
2. Prevent adjustments of font size after orientation changes in iOS.
3. Use a more readable tab size.
4. Use the user's configured `sans` font-family by default.
5. Use the user's configured `sans` font-feature-settings by default.
*/

html {
  line-height: 1.5;
  /* 1 */
  -webkit-text-size-adjust: 100%;
  /* 2 */
  -moz-tab-size: 4;
  /* 3 */
  -o-tab-size: 4;
     tab-size: 4;
  /* 3 */
  font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
  /* 4 */
  font-feature-settings: normal;
  /* 5 */
}

/*
1. Remove the margin in all browsers.
2. Inherit line-height from `html` so users can set them as a class directly on the `html` element.
*/

body {
  margin: 0;
  /* 1 */
  line-height: inherit;
  /* 2 */
}

/*
1. Add the correct height in Firefox.
2. Correct the inheritance of border color in Firefox. (https://bugzilla.mozilla.org/show_bug.cgi?id=190655)
3. Ensure horizontal rules are visible by default.
*/

hr {
  height: 0;
  /* 1 */
  color: inherit;
  /* 2 */
  border-top-width: 1px;
  /* 3 */
}

/*
Add the correct text decoration in Chrome, Edge, and Safari.
*/

abbr:where([title]) {
  -webkit-text-decoration: underline dotted;
          text-decoration: underline dotted;
}

/*
Remove the default font size and weight for headings.
*/

h1,
h2,
h3,
h4,
h5,
h6 {
  font-size: inherit;
  font-weight: inherit;
}

/*
Reset links to optimize for opt-in styling instead of opt-out.
*/

a {
  color: inherit;
  text-decoration: inherit;
}

/*
Add the correct font weight in Edge and Safari.
*/

b,
strong {
  font-weight: bolder;
}

/*
1. Use the user's configured `mono` font family by default.
2. Correct the odd `em` font sizing in all browsers.
*/

code,
kbd,
samp,
pre {
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  /* 1 */
  font-size: 1em;
  /* 2 */
}

/*
Add the correct font size in all browsers.
*/

small {
  font-size: 80%;
}

/*
Prevent `sub` and `sup` elements from affecting the line height in all browsers.
*/

sub,
sup {
  font-size: 75%;
  line-height: 0;
  position: relative;
  vertical-align: baseline;
}

sub {
  bottom: -0.25em;
}

sup {
  top: -0.5em;
}

/*
1. Remove text indentation from table contents in Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=999088, https://bugs.webkit.org/show_bug.cgi?id=201297)
2. Correct table border color inheritance in all Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=935729, https://bugs.webkit.org/show_bug.cgi?id=195016)
3. Remove gaps between table borders by default.
*/

table {
  text-indent: 0;
  /* 1 */
  border-color: inherit;
  /* 2 */
  border-collapse: collapse;
  /* 3 */
}

/*
1. Change the font styles in all browsers.
2. Remove the margin in Firefox and Safari.
3. Remove default padding in all browsers.
*/

button,
input,
optgroup,
select,
textarea {
  font-family: inherit;
  /* 1 */
  font-size: 100%;
  /* 1 */
  font-weight: inherit;
  /* 1 */
  line-height: inherit;
  /* 1 */
  color: inherit;
  /* 1 */
  margin: 0;
  /* 2 */
  padding: 0;
  /* 3 */
}

/*
Remove the inheritance of text transform in Edge and Firefox.
*/

button,
select {
  text-transform: none;
}

/*
1. Correct the inability to style clickable types in iOS and Safari.
2. Remove default button styles.
*/

button,
[type='button'],
[type='reset'],
[type='submit'] {
  -webkit-appearance: button;
  /* 1 */
  background-color: transparent;
  /* 2 */
  background-image: none;
  /* 2 */
}

/*
Use the modern Firefox focus style for all focusable elements.
*/

:-moz-focusring {
  outline: auto;
}

/*
Remove the additional `:invalid` styles in Firefox. (https://github.com/mozilla/gecko-dev/blob/2f9eacd9d3d995c937b4251a5557d95d494c9be1/layout/style/res/forms.css#L728-L737)
*/

:-moz-ui-invalid {
  box-shadow: none;
}

/*
Add the correct vertical alignment in Chrome and Firefox.
*/

progress {
  vertical-align: baseline;
}

/*
Correct the cursor style of increment and decrement buttons in Safari.
*/

::-webkit-inner-spin-button,
::-webkit-outer-spin-button {
  height: auto;
}

/*
1. Correct the odd appearance in Chrome and Safari.
2. Correct the outline style in Safari.
*/

[type='search'] {
  -webkit-appearance: textfield;
  /* 1 */
  outline-offset: -2px;
  /* 2 */
}

/*
Remove the inner padding in Chrome and Safari on macOS.
*/

::-webkit-search-decoration {
  -webkit-appearance: none;
}

/*
1. Correct the inability to style clickable types in iOS and Safari.
2. Change font properties to `inherit` in Safari.
*/

::-webkit-file-upload-button {
  -webkit-appearance: button;
  /* 1 */
  font: inherit;
  /* 2 */
}

/*
Add the correct display in Chrome and Safari.
*/

summary {
  display: list-item;
}

/*
Removes the default spacing and border for appropriate elements.
*/

blockquote,
dl,
dd,
h1,
h2,
h3,
h4,
h5,
h6,
hr,
figure,
p,
pre {
  margin: 0;
}

fieldset {
  margin: 0;
  padding: 0;
}

legend {
  padding: 0;
}

ol,
ul,
menu {
  list-style: none;
  margin: 0;
  padding: 0;
}

/*
Prevent resizing textareas horizontally by default.
*/

textarea {
  resize: vertical;
}

/*
1. Reset the default placeholder opacity in Firefox. (https://github.com/tailwindlabs/tailwindcss/issues/3300)
2. Set the default placeholder color to the user's configured gray 400 color.
*/

input::-moz-placeholder, textarea::-moz-placeholder {
  opacity: 1;
  /* 1 */
  color: #9ca3af;
  /* 2 */
}

input::placeholder,
textarea::placeholder {
  opacity: 1;
  /* 1 */
  color: #9ca3af;
  /* 2 */
}

/*
Set the default cursor for buttons.
*/

button,
[role="button"] {
  cursor: pointer;
}

/*
Make sure disabled buttons don't get the pointer cursor.
*/

:disabled {
  cursor: default;
}

/*
1. Make replaced elements `display: block` by default. (https://github.com/mozdevs/cssremedy/issues/14)
2. Add `vertical-align: middle` to align replaced elements more sensibly by default. (https://github.com/jensimmons/cssremedy/issues/14#issuecomment-634934210)
   This can trigger a poorly considered lint error in some tools but is included by design.
*/

img,
svg,
video,
canvas,
audio,
iframe,
embed,
object {
  display: block;
  /* 1 */
  vertical-align: middle;
  /* 2 */
}

/*
Constrain images and videos to the parent width and preserve their intrinsic aspect ratio. (https://github.com/mozdevs/cssremedy/issues/14)
*/

img,
video {
  max-width: 100%;
  height: auto;
}

/* Make elements with the HTML hidden attribute stay hidden by default */

[hidden] {
  display: none;
}

*, ::before, ::after {
  --tw-border-spacing-x: 0;
  --tw-border-spacing-y: 0;
  --tw-translate-x: 0;
  --tw-translate-y: 0;
  --tw-rotate: 0;
  --tw-skew-x: 0;
  --tw-skew-y: 0;
  --tw-scale-x: 1;
  --tw-scale-y: 1;
  --tw-pan-x:  ;
  --tw-pan-y:  ;
  --tw-pinch-zoom:  ;
  --tw-scroll-snap-strictness: proximity;
  --tw-ordinal:  ;
  --tw-slashed-zero:  ;
  --tw-numeric-figure:  ;
  --tw-numeric-spacing:  ;
  --tw-numeric-fraction:  ;
  --tw-ring-inset:  ;
  --tw-ring-offset-width: 0px;
  --tw-ring-offset-color: #fff;
  --tw-ring-color: rgb(59 130 246 / 0.5);
  --tw-ring-offset-shadow: 0 0 #0000;
  --tw-ring-shadow: 0 0 #0000;
  --tw-shadow: 0 0 #0000;
  --tw-shadow-colored: 0 0 #0000;
  --tw-blur:  ;
  --tw-brightness:  ;
  --tw-contrast:  ;
  --tw-grayscale:  ;
  --tw-hue-rotate:  ;
  --tw-invert:  ;
  --tw-saturate:  ;
  --tw-sepia:  ;
  --tw-drop-shadow:  ;
  --tw-backdrop-blur:  ;
  --tw-backdrop-brightness:  ;
  --tw-backdrop-contrast:  ;
  --tw-backdrop-grayscale:  ;
  --tw-backdrop-hue-rotate:  ;
  --tw-backdrop-invert:  ;
  --tw-backdrop-opacity:  ;
  --tw-backdrop-saturate:  ;
  --tw-backdrop-sepia:  ;
}

::backdrop {
  --tw-border-spacing-x: 0;
  --tw-border-spacing-y: 0;
  --tw-translate-x: 0;
  --tw-translate-y: 0;
  --tw-rotate: 0;
  --tw-skew-x: 0;
  --tw-skew-y: 0;
  --tw-scale-x: 1;
  --tw-scale-y: 1;
  --tw-pan-x:  ;
  --tw-pan-y:  ;
  --tw-pinch-zoom:  ;
  --tw-scroll-snap-strictness: proximity;
  --tw-ordinal:  ;
  --tw-slashed-zero:  ;
  --tw-numeric-figure:  ;
  --tw-numeric-spacing:  ;
  --tw-numeric-fraction:  ;
  --tw-ring-inset:  ;
  --tw-ring-offset-width: 0px;
  --tw-ring-offset-color: #fff;
  --tw-ring-color: rgb(59 130 246 / 0.5);
  --tw-ring-offset-shadow: 0 0 #0000;
  --tw-ring-shadow: 0 0 #0000;
  --tw-shadow: 0 0 #0000;
  --tw-shadow-colored: 0 0 #0000;
  --tw-blur:  ;
  --tw-brightness:  ;
  --tw-contrast:  ;
  --tw-grayscale:  ;
  --tw-hue-rotate:  ;
  --tw-invert:  ;
  --tw-saturate:  ;
  --tw-sepia:  ;
  --tw-drop-shadow:  ;
  --tw-backdrop-blur:  ;
  --tw-backdrop-brightness:  ;
  --tw-backdrop-contrast:  ;
  --tw-backdrop-grayscale:  ;
  --tw-backdrop-hue-rotate:  ;
  --tw-backdrop-invert:  ;
  --tw-backdrop-opacity:  ;
  --tw-backdrop-saturate:  ;
  --tw-backdrop-sepia:  ;
}

.m-auto {
  margin: auto;
}

.mx-1 {
  margin-left: 0.25rem;
  margin-right: 0.25rem;
}

.mx-2 {
  margin-left: 0.5rem;
  margin-right: 0.5rem;
}

.mx-4 {
  margin-left: 1rem;
  margin-right: 1rem;
}

.my-4 {
  margin-top: 1rem;
  margin-bottom: 1rem;
}

.ml-2 {
  margin-left: 0.5rem;
}

.block {
  display: block;
}

.flex {
  display: flex;
}

.hidden {
  display: none;
}

.h-5 {
  height: 1.25rem;
}

.h-full {
  height: 100%;
}

.w-5 {
  width: 1.25rem;
}

.w-\[8rem\] {
  width: 8rem;
}

.w-full {
  width: 100%;
}

.flex-1 {
  flex: 1 1 0%;
}

.cursor-pointer {
  cursor: pointer;
}

.flex-wrap {
  flex-wrap: wrap;
}

.items-center {
  align-items: center;
}

.justify-end {
  justify-content: flex-end;
}

.bg-gray-100 {
  --tw-bg-opacity: 1;
  background-color: rgb(243 244 246 / var(--tw-bg-opacity));
}

.bg-gray-200 {
  --tw-bg-opacity: 1;
  background-color: rgb(229 231 235 / var(--tw-bg-opacity));
}

.p-2 {
  padding: 0.5rem;
}

.p-4 {
  padding: 1rem;
}

.text-center {
  text-align: center;
}

.text-gray-600 {
  --tw-text-opacity: 1;
  color: rgb(75 85 99 / var(--tw-text-opacity));
}

.text-gray-900 {
  --tw-text-opacity: 1;
  color: rgb(17 24 39 / var(--tw-text-opacity));
}

.text-green-600 {
  --tw-text-opacity: 1;
  color: rgb(22 163 74 / var(--tw-text-opacity));
}

.text-slate-500 {
  --tw-text-opacity: 1;
  color: rgb(100 116 139 / var(--tw-text-opacity));
}

.hover\:bg-sky-200:hover {
  --tw-bg-opacity: 1;
  background-color: rgb(186 230 253 / var(--tw-bg-opacity));
}

@media (prefers-color-scheme: dark) {
  .dark\:bg-gray-700 {
    --tw-bg-opacity: 1;
    background-color: rgb(55 65 81 / var(--tw-bg-opacity));
  }

  .dark\:bg-gray-900 {
    --tw-bg-opacity: 1;
    background-color: rgb(17 24 39 / var(--tw-bg-opacity));
  }

  .dark\:text-gray-50 {
    --tw-text-opacity: 1;
    color: rgb(249 250 251 / var(--tw-text-opacity));
  }

  .dark\:text-green-400 {
    --tw-text-opacity: 1;
    color: rgb(74 222 128 / var(--tw-text-opacity));
  }

  .dark\:text-slate-300 {
    --tw-text-opacity: 1;
    color: rgb(203 213 225 / var(--tw-text-opacity));
  }

  .dark\:hover\:bg-sky-700:hover {
    --tw-bg-opacity: 1;
    background-color: rgb(3 105 161 / var(--tw-bg-opacity));
  }
}

	</style>
</head>
<body class="bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-50">
  <div id="app" class="w-full h-full">
    <div class="header flex bg-gray-200 dark:bg-gray-700 p-2">
      <div class="flex-1">
        <button
          class="info-button flex items-center dark:hover:bg-sky-700 hover:bg-sky-200"
          @click="toggleInfo"
        >
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="none" d="M0 0h24v24H0z"/><path d="M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm-1-11v6h2v-6h-2zm0-4v2h2V7h-2z"/></svg>
        </button>
      </div>
      <!-- controls -->
      <div class="flex items-center justify-end">
        <input
          name="showThumbnails"
          id="showThumbnails"
          type="checkbox"
          class="form-checkbox h-5 w-5 text-gray-600"
          v-model="showThumbnails"
        />
        <label
          for="showThumbnails"
          class="cursor-pointer ml-2"
        >
          Show Thumbnails
        </label>
        <span class="mx-4">|</span>
        <button
          class="flex items-center dark:hover:bg-sky-700 hover:bg-sky-200"
          @click="() => onDirectoryClick(currentDirectory)"
        >
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="none" d="M0 0h24v24H0z"/><path d="M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm4.82-4.924A7 7 0 0 0 9.032 5.658l.975 1.755A5 5 0 0 1 17 12h-3l2.82 5.076zm-1.852 1.266l-.975-1.755A5 5 0 0 1 7 12h3L7.18 6.924a7 7 0 0 0 7.788 11.418z"/></svg>
          <span class="mx-1">Refresh</span>
        </button>
      </div>
    </div>
    <div
      class="info absolute top-12 left-4 bg-gray-300 dark:bg-gray-700 shadow-lg p-8 rounded-lg"
      v-if="showInfo"
      v-click-outside="closeInfo"
    >
      <h2 class="text-xl font-bold mb-2">Made by Simply Hexagonal</h2>
      <p class="mb-8">
        <a
          class="text-indigo-700 dark:text-indigo-300"
          target="_blank"
          href=""
        >
          website
        </a>
        <span> | </span>
        <a
          class="text-indigo-700 dark:text-indigo-300"
          target="_blank"
          href=""
        >
          github
        </a>
      </p>
      <p class="mb-2">
        Built using:
      </p>
      <ul class="list-disc list-inside pl-2">
        <li>
          <a
            class="text-indigo-700 dark:text-indigo-300"
            target="_blank"
            href="https://www.fastify.io/"
          >
            Fastify
          </a>
        </li>
        <li>
          <a
            class="text-indigo-700 dark:text-indigo-300"
            target="_blank"
            href="https://vuejs.org/"
          >
            Vue JS
          </a>
        </li>
        <li>
          <a
            class="text-indigo-700 dark:text-indigo-300"
            target="_blank"
            href="https://tailwindcss.com/"
          >
            Tailwind CSS
          </a>
        </li>
        <li>
          <a
            class="text-indigo-700 dark:text-indigo-300"
            target="_blank"
            href="https://axios-http.com/"
          >
            Axios
          </a>
        </li>
        <li>
          <a
            class="text-indigo-700 dark:text-indigo-300"
            target="_blank"
            href="https://remixicon.com/"
          >
            Remix Icon
          </a>
        </li>
      </ul>
    </div>
    <ul class="directories flex flex-wrap p-4">
      <li
        @click.stop.prevent="() => onDirectoryClick(directory.path)"
        class="cursor-pointer my-4 mx-2 w-[8rem] dark:hover:bg-sky-700 hover:bg-sky-200"
        v-for="directory in tree.directories"
      >
        <span
          class="icon block m-auto text-center text-green-600 dark:text-green-400"
          v-html="getIcon(directory)"
        >
          <!-- dynamic -->
        </span>
        <a class="file-name block m-auto text-center" :href="directory.path">
          {{ directory.name }}
        </a>
      </li>
    </ul>
    <ul class="files flex flex-wrap p-4" :class="{'thumbnails': showThumbnails}">
      <li
        v-for="file in tree.files"
        class="cursor-pointer my-4 mx-2 w-[8rem] dark:hover:bg-sky-700 hover:bg-sky-200"
      >
        <a class="block w-full h-full" :href="file.path" target="_blank">
          <span
            class="icon block m-auto text-center text-slate-500 dark:text-slate-300"
            v-html="getIcon(file)"
          >
            <!-- dynamic -->
          </span>
          <span class="file-name block m-auto text-center">{{ file.name }}</span>
        </a>
      </li>
    </ul>
  </div>

  <script>
    const { createApp } = Vue;

    const ROOT_DIR = '/fastify-file-browser/demo/';

    const FS_STRUCTURE = {
      "/fastify-file-browser/demo/":{"directories":[{"name":"fixtures","path":"/fastify-file-browser/demo/fixtures/","mimeType":"inode/directory"},{"name":"scripts","path":"/fastify-file-browser/demo/scripts/","mimeType":"inode/directory"},{"name":"src","path":"/fastify-file-browser/demo/src/","mimeType":"inode/directory"}],"files":[{"name":"package.json","path":"/fastify-file-browser/demo/package.json","mimeType":"application/json"},{"name":"README.md","path":"/fastify-file-browser/demo/README.md","mimeType":"text/markdown"},{"name":"tailwind.config.js","path":"/fastify-file-browser/demo/tailwind.config.js","mimeType":"application/javascript"},{"name":"tsconfig.json","path":"/fastify-file-browser/demo/tsconfig.json","mimeType":"application/json"}]},
      "/fastify-file-browser/demo/fixtures/":{"directories":[{"name":"..","path":"/fastify-file-browser/demo/","mimeType":"inode/directory"}],"files":[{"name":"animation.gif","path":"/fastify-file-browser/demo/fixtures/animation.gif","mimeType":"image/gif"},{"name":"archive.zip","path":"/fastify-file-browser/demo/fixtures/archive.zip","mimeType":"application/zip"},{"name":"compressed.tar.gz","path":"/fastify-file-browser/demo/fixtures/compressed.tar.gz","mimeType":"application/gzip"},{"name":"data.csv","path":"/fastify-file-browser/demo/fixtures/data.csv","mimeType":"text/csv"},{"name":"data.tsv","path":"/fastify-file-browser/demo/fixtures/data.tsv","mimeType":"text/tab-separated-values"},{"name":"document.docx","path":"/fastify-file-browser/demo/fixtures/document.docx","mimeType":"application/vnd.openxmlformats-officedocument.wordprocessingml.document"},{"name":"document.pdf","path":"/fastify-file-browser/demo/fixtures/document.pdf","mimeType":"application/pdf"},{"name":"executable.exe","path":"/fastify-file-browser/demo/fixtures/executable.exe","mimeType":"application/x-msdos-program"},{"name":"image.jpeg","path":"/fastify-file-browser/demo/fixtures/image.jpeg","mimeType":"image/jpeg"},{"name":"image.svg","path":"/fastify-file-browser/demo/fixtures/image.svg","mimeType":"image/svg+xml"},{"name":"javascript.js","path":"/fastify-file-browser/demo/fixtures/javascript.js","mimeType":"application/javascript"},{"name":"javascript.jsx","path":"/fastify-file-browser/demo/fixtures/javascript.jsx","mimeType":"text/jsx"},{"name":"movie.avi","path":"/fastify-file-browser/demo/fixtures/movie.avi","mimeType":"video/x-msvideo"},{"name":"movie.mkv","path":"/fastify-file-browser/demo/fixtures/movie.mkv","mimeType":"video/x-matroska"},{"name":"movie.mov","path":"/fastify-file-browser/demo/fixtures/movie.mov","mimeType":"video/quicktime"},{"name":"movie.mp4","path":"/fastify-file-browser/demo/fixtures/movie.mp4","mimeType":"video/mp4"},{"name":"music.mp3","path":"/fastify-file-browser/demo/fixtures/music.mp3","mimeType":"audio/mpeg"},{"name":"no-ext","path":"/fastify-file-browser/demo/fixtures/no-ext","mimeType":"application/octet-stream"},{"name":"picture.jpg","path":"/fastify-file-browser/demo/fixtures/picture.jpg","mimeType":"image/jpeg"},{"name":"picture.png","path":"/fastify-file-browser/demo/fixtures/picture.png","mimeType":"image/png"},{"name":"presentation.pptx","path":"/fastify-file-browser/demo/fixtures/presentation.pptx","mimeType":"application/vnd.openxmlformats-officedocument.presentationml.presentation"},{"name":"python.py","path":"/fastify-file-browser/demo/fixtures/python.py","mimeType":"application/octet-stream"},{"name":"react.tsx","path":"/fastify-file-browser/demo/fixtures/react.tsx","mimeType":"application/octet-stream"},{"name":"script.sh","path":"/fastify-file-browser/demo/fixtures/script.sh","mimeType":"application/x-sh"},{"name":"sound.wav","path":"/fastify-file-browser/demo/fixtures/sound.wav","mimeType":"audio/wave"},{"name":"spreadsheet.xlsx","path":"/fastify-file-browser/demo/fixtures/spreadsheet.xlsx","mimeType":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},{"name":"text.txt","path":"/fastify-file-browser/demo/fixtures/text.txt","mimeType":"text/plain"},{"name":"typescript.ts","path":"/fastify-file-browser/demo/fixtures/typescript.ts","mimeType":"video/mp2t"},{"name":"webpage.html","path":"/fastify-file-browser/demo/fixtures/webpage.html","mimeType":"text/html"}]},
      "/fastify-file-browser/demo/scripts/":{"directories":[{"name":"..","path":"/fastify-file-browser/demo/","mimeType":"inode/directory"}],"files":[{"name":"binify","path":"/fastify-file-browser/demo/scripts/binify","mimeType":"application/octet-stream"},{"name":"build","path":"/fastify-file-browser/demo/scripts/build","mimeType":"application/octet-stream"},{"name":"dev","path":"/fastify-file-browser/demo/scripts/dev","mimeType":"application/octet-stream"}]},
      "/fastify-file-browser/demo/src/":{"directories":[{"name":"..","path":"/fastify-file-browser/demo/","mimeType":"inode/directory"},{"name":"assets","path":"/fastify-file-browser/demo/src/assets/","mimeType":"inode/directory"}],"files":[{"name":"index.html","path":"/fastify-file-browser/demo/src/index.html","mimeType":"text/html"},{"name":"index.ts","path":"/fastify-file-browser/demo/src/index.ts","mimeType":"video/mp2t"},{"name":"tailwind.css","path":"/fastify-file-browser/demo/src/tailwind.css","mimeType":"text/css"}]},
      "/fastify-file-browser/demo/src/assets/":{"directories":[{"name":"..","path":"/fastify-file-browser/demo/src/","mimeType":"inode/directory"},{"name":"css","path":"/fastify-file-browser/demo/src/assets/css/","mimeType":"inode/directory"},{"name":"icons","path":"/fastify-file-browser/demo/src/assets/icons/","mimeType":"inode/directory"}],"files":[]},
      "/fastify-file-browser/demo/src/assets/css/":{"directories":[{"name":"..","path":"/fastify-file-browser/demo/src/assets/","mimeType":"inode/directory"}],"files":[{"name":"tailwind.css","path":"/fastify-file-browser/demo/src/assets/css/tailwind.css","mimeType":"text/css"}]},
      "/fastify-file-browser/demo/src/assets/icons/":{"directories":[{"name":"..","path":"/fastify-file-browser/demo/src/assets/","mimeType":"inode/directory"}],"files":[{"name":"file-audio.svg","path":"/fastify-file-browser/demo/src/assets/icons/file-audio.svg","mimeType":"image/svg+xml"},{"name":"file-binary.svg","path":"/fastify-file-browser/demo/src/assets/icons/file-binary.svg","mimeType":"image/svg+xml"},{"name":"file-code.svg","path":"/fastify-file-browser/demo/src/assets/icons/file-code.svg","mimeType":"image/svg+xml"},{"name":"file-excel.svg","path":"/fastify-file-browser/demo/src/assets/icons/file-excel.svg","mimeType":"image/svg+xml"},{"name":"file-executable.svg","path":"/fastify-file-browser/demo/src/assets/icons/file-executable.svg","mimeType":"image/svg+xml"},{"name":"file-gif.svg","path":"/fastify-file-browser/demo/src/assets/icons/file-gif.svg","mimeType":"image/svg+xml"},{"name":"file-image.svg","path":"/fastify-file-browser/demo/src/assets/icons/file-image.svg","mimeType":"image/svg+xml"},{"name":"file-pdf.svg","path":"/fastify-file-browser/demo/src/assets/icons/file-pdf.svg","mimeType":"image/svg+xml"},{"name":"file-powerpoint.svg","path":"/fastify-file-browser/demo/src/assets/icons/file-powerpoint.svg","mimeType":"image/svg+xml"},{"name":"file-spreadsheet.svg","path":"/fastify-file-browser/demo/src/assets/icons/file-spreadsheet.svg","mimeType":"image/svg+xml"},{"name":"file-text.svg","path":"/fastify-file-browser/demo/src/assets/icons/file-text.svg","mimeType":"image/svg+xml"},{"name":"file-video.svg","path":"/fastify-file-browser/demo/src/assets/icons/file-video.svg","mimeType":"image/svg+xml"},{"name":"file-word.svg","path":"/fastify-file-browser/demo/src/assets/icons/file-word.svg","mimeType":"image/svg+xml"},{"name":"file-zip.svg","path":"/fastify-file-browser/demo/src/assets/icons/file-zip.svg","mimeType":"image/svg+xml"},{"name":"folder.svg","path":"/fastify-file-browser/demo/src/assets/icons/folder.svg","mimeType":"image/svg+xml"},{"name":"refresh.svg","path":"/fastify-file-browser/demo/src/assets/icons/refresh.svg","mimeType":"image/svg+xml"}]}
    };

    const MIMETYPE_ICON_MAP = {
      'inode/directory': '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M3 21a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h7.414l2 2H20a1 1 0 0 1 1 1v3H4v9.996L6 11h16.5l-2.31 9.243a1 1 0 0 1-.97.757H3z"/></svg>',
      'application/javascript': '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M15 4H5v16h14V8h-4V4zM3 2.992C3 2.444 3.447 2 3.999 2H16l5 5v13.993A1 1 0 0 1 20.007 22H3.993A1 1 0 0 1 3 21.008V2.992zM17.657 12l-3.536 3.536-1.414-1.415L14.828 12l-2.12-2.121 1.413-1.415L17.657 12zM6.343 12L9.88 8.464l1.414 1.415L9.172 12l2.12 2.121-1.413 1.415L6.343 12z"/></svg>',
      'application/octet-stream': '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M9 2.003V2h10.998C20.55 2 21 2.455 21 2.992v18.016a.993.993 0 0 1-.993.992H3.993A1 1 0 0 1 3 20.993V8l6-5.997zM5.83 8H9V4.83L5.83 8zM11 4v5a1 1 0 0 1-1 1H5v10h14V4h-8z"/></svg>',
      'application/pdf': '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M12 16H8V8h4a4 4 0 1 1 0 8zm-2-6v4h2a2 2 0 1 0 0-4h-2zm5-6H5v16h14V8h-4V4zM3 2.992C3 2.444 3.447 2 3.999 2H16l5 5v13.993A1 1 0 0 1 20.007 22H3.993A1 1 0 0 1 3 21.008V2.992z"/></svg>',
      'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet': '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M13.2 12l2.8 4h-2.4L12 13.714 10.4 16H8l2.8-4L8 8h2.4l1.6 2.286L13.6 8H15V4H5v16h14V8h-3l-2.8 4zM3 2.992C3 2.444 3.447 2 3.999 2H16l5 5v13.993A1 1 0 0 1 20.007 22H3.993A1 1 0 0 1 3 21.008V2.992z"/></svg>',
      'application/vnd.openxmlformats-officedocument.wordprocessingml.document': '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M16 8v8h-2l-2-2-2 2H8V8h2v5l2-2 2 2V8h1V4H5v16h14V8h-3zM3 2.992C3 2.444 3.447 2 3.999 2H16l5 5v13.993A1 1 0 0 1 20.007 22H3.993A1 1 0 0 1 3 21.008V2.992z"/></svg>',
      'application/vnd.ms-powerpoint': '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M3 2.992C3 2.444 3.447 2 3.999 2H16l5 5v13.993A1 1 0 0 1 20.007 22H3.993A1 1 0 0 1 3 21.008V2.992zM5 4v16h14V8h-3v6h-6v2H8V8h7V4H5zm5 6v2h4v-2h-4z"/></svg>',
      'application/vnd.openxmlformats-officedocument.presentationml.presentation': '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M3 2.992C3 2.444 3.447 2 3.999 2H16l5 5v13.993A1 1 0 0 1 20.007 22H3.993A1 1 0 0 1 3 21.008V2.992zM5 4v16h14V8h-3v6h-6v2H8V8h7V4H5zm5 6v2h4v-2h-4z"/></svg>',
      'video/x-matroska': '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M2 3.993A1 1 0 0 1 2.992 3h18.016c.548 0 .992.445.992.993v16.014a1 1 0 0 1-.992.993H2.992A.993.993 0 0 1 2 20.007V3.993zM8 5v14h8V5H8zM4 5v2h2V5H4zm14 0v2h2V5h-2zM4 9v2h2V9H4zm14 0v2h2V9h-2zM4 13v2h2v-2H4zm14 0v2h2v-2h-2zM4 17v2h2v-2H4zm14 0v2h2v-2h-2z"/></svg>',
      'application/x-msdos-program': '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M8.595 12.812a3.51 3.51 0 0 1 0-1.623l-.992-.573 1-1.732.992.573A3.496 3.496 0 0 1 11 8.645V7.5h2v1.145c.532.158 1.012.44 1.405.812l.992-.573 1 1.732-.992.573a3.51 3.51 0 0 1 0 1.622l.992.573-1 1.732-.992-.573a3.496 3.496 0 0 1-1.405.812V16.5h-2v-1.145a3.496 3.496 0 0 1-1.405-.812l-.992.573-1-1.732.992-.572zM12 13.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM15 4H5v16h14V8h-4V4zM3 2.992C3 2.444 3.447 2 3.999 2H16l5 5v13.993A1 1 0 0 1 20.007 22H3.993A1 1 0 0 1 3 21.008V2.992z"/></svg>',
      'application/x-sh': '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M8.595 12.812a3.51 3.51 0 0 1 0-1.623l-.992-.573 1-1.732.992.573A3.496 3.496 0 0 1 11 8.645V7.5h2v1.145c.532.158 1.012.44 1.405.812l.992-.573 1 1.732-.992.573a3.51 3.51 0 0 1 0 1.622l.992.573-1 1.732-.992-.573a3.496 3.496 0 0 1-1.405.812V16.5h-2v-1.145a3.496 3.496 0 0 1-1.405-.812l-.992.573-1-1.732.992-.572zM12 13.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM15 4H5v16h14V8h-4V4zM3 2.992C3 2.444 3.447 2 3.999 2H16l5 5v13.993A1 1 0 0 1 20.007 22H3.993A1 1 0 0 1 3 21.008V2.992z"/></svg>',
      'audio/mpeg': '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M2 3.993A1 1 0 0 1 2.992 3h18.016c.548 0 .992.445.992.993v16.014a1 1 0 0 1-.992.993H2.992A.993.993 0 0 1 2 20.007V3.993zM4 5v14h16V5H4zm8 7.17V6h5v2h-3v7a3 3 0 1 1-2-2.83z"/></svg>',
      'audio/wave': '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M2 3.993A1 1 0 0 1 2.992 3h18.016c.548 0 .992.445.992.993v16.014a1 1 0 0 1-.992.993H2.992A.993.993 0 0 1 2 20.007V3.993zM4 5v14h16V5H4zm8 7.17V6h5v2h-3v7a3 3 0 1 1-2-2.83z"/></svg>',
      'image/jpeg': '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M4.828 21l-.02.02-.021-.02H2.992A.993.993 0 0 1 2 20.007V3.993A1 1 0 0 1 2.992 3h18.016c.548 0 .992.445.992.993v16.014a1 1 0 0 1-.992.993H4.828zM20 15V5H4v14L14 9l6 6zm0 2.828l-6-6L6.828 19H20v-1.172zM8 11a2 2 0 1 1 0-4 2 2 0 0 1 0 4z"/></svg>',
      'image/png': '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M4.828 21l-.02.02-.021-.02H2.992A.993.993 0 0 1 2 20.007V3.993A1 1 0 0 1 2.992 3h18.016c.548 0 .992.445.992.993v16.014a1 1 0 0 1-.992.993H4.828zM20 15V5H4v14L14 9l6 6zm0 2.828l-6-6L6.828 19H20v-1.172zM8 11a2 2 0 1 1 0-4 2 2 0 0 1 0 4z"/></svg>',
      'image/gif': '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" d="M0 0L24 0 24 24 0 24z"/><path d="M16 2l5 5v13.993c0 .556-.445 1.007-.993 1.007H3.993C3.445 22 3 21.545 3 21.008V2.992C3 2.444 3.447 2 3.999 2H16zm-1 2H5v16h14V8h-4V4zm-2 6v5h-1v-5h1zm-2 0v1H9c-.552 0-1 .448-1 1v1c0 .552.448 1 1 1h1v-1H9v-1h2v2c0 .552-.448 1-1 1H9c-1.105 0-2-.895-2-2v-1c0-1.105.895-2 2-2h2zm6 0v1h-2v1h2v1h-2v2h-1v-5h3z"/></svg>',
      'image/svg+xml': '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M4.828 21l-.02.02-.021-.02H2.992A.993.993 0 0 1 2 20.007V3.993A1 1 0 0 1 2.992 3h18.016c.548 0 .992.445.992.993v16.014a1 1 0 0 1-.992.993H4.828zM20 15V5H4v14L14 9l6 6zm0 2.828l-6-6L6.828 19H20v-1.172zM8 11a2 2 0 1 1 0-4 2 2 0 0 1 0 4z"/></svg>',
      'text/csv': '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M11 7h2v10h-2V7zm4 4h2v6h-2v-6zm-8 2h2v4H7v-4zm8-9H5v16h14V8h-4V4zM3 2.992C3 2.444 3.447 2 3.999 2H16l5 5v13.993A1 1 0 0 1 20.007 22H3.993A1 1 0 0 1 3 21.008V2.992z"/></svg>',
      'text/html': '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M15 4H5v16h14V8h-4V4zM3 2.992C3 2.444 3.447 2 3.999 2H16l5 5v13.993A1 1 0 0 1 20.007 22H3.993A1 1 0 0 1 3 21.008V2.992zM17.657 12l-3.536 3.536-1.414-1.415L14.828 12l-2.12-2.121 1.413-1.415L17.657 12zM6.343 12L9.88 8.464l1.414 1.415L9.172 12l2.12 2.121-1.413 1.415L6.343 12z"/></svg>',
      'text/jsx': '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M15 4H5v16h14V8h-4V4zM3 2.992C3 2.444 3.447 2 3.999 2H16l5 5v13.993A1 1 0 0 1 20.007 22H3.993A1 1 0 0 1 3 21.008V2.992zM17.657 12l-3.536 3.536-1.414-1.415L14.828 12l-2.12-2.121 1.413-1.415L17.657 12zM6.343 12L9.88 8.464l1.414 1.415L9.172 12l2.12 2.121-1.413 1.415L6.343 12z"/></svg>',
      'text/plain': '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M21 8v12.993A1 1 0 0 1 20.007 22H3.993A.993.993 0 0 1 3 21.008V2.992C3 2.455 3.449 2 4.002 2h10.995L21 8zm-2 1h-5V4H5v16h14V9zM8 7h3v2H8V7zm0 4h8v2H8v-2zm0 4h8v2H8v-2z"/></svg>',
      'text/tab-separated-values': '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M11 7h2v10h-2V7zm4 4h2v6h-2v-6zm-8 2h2v4H7v-4zm8-9H5v16h14V8h-4V4zM3 2.992C3 2.444 3.447 2 3.999 2H16l5 5v13.993A1 1 0 0 1 20.007 22H3.993A1 1 0 0 1 3 21.008V2.992z"/></svg>',
      'video/mp2t': '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M15 4H5v16h14V8h-4V4zM3 2.992C3 2.444 3.447 2 3.999 2H16l5 5v13.993A1 1 0 0 1 20.007 22H3.993A1 1 0 0 1 3 21.008V2.992zM17.657 12l-3.536 3.536-1.414-1.415L14.828 12l-2.12-2.121 1.413-1.415L17.657 12zM6.343 12L9.88 8.464l1.414 1.415L9.172 12l2.12 2.121-1.413 1.415L6.343 12z"/></svg>',
      'video/mp4': '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M2 3.993A1 1 0 0 1 2.992 3h18.016c.548 0 .992.445.992.993v16.014a1 1 0 0 1-.992.993H2.992A.993.993 0 0 1 2 20.007V3.993zM8 5v14h8V5H8zM4 5v2h2V5H4zm14 0v2h2V5h-2zM4 9v2h2V9H4zm14 0v2h2V9h-2zM4 13v2h2v-2H4zm14 0v2h2v-2h-2zM4 17v2h2v-2H4zm14 0v2h2v-2h-2z"/></svg>',
      'video/quicktime': '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M2 3.993A1 1 0 0 1 2.992 3h18.016c.548 0 .992.445.992.993v16.014a1 1 0 0 1-.992.993H2.992A.993.993 0 0 1 2 20.007V3.993zM8 5v14h8V5H8zM4 5v2h2V5H4zm14 0v2h2V5h-2zM4 9v2h2V9H4zm14 0v2h2V9h-2zM4 13v2h2v-2H4zm14 0v2h2v-2h-2zM4 17v2h2v-2H4zm14 0v2h2v-2h-2z"/></svg>',
      'video/x-msvideo': '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M2 3.993A1 1 0 0 1 2.992 3h18.016c.548 0 .992.445.992.993v16.014a1 1 0 0 1-.992.993H2.992A.993.993 0 0 1 2 20.007V3.993zM8 5v14h8V5H8zM4 5v2h2V5H4zm14 0v2h2V5h-2zM4 9v2h2V9H4zm14 0v2h2V9h-2zM4 13v2h2v-2H4zm14 0v2h2v-2h-2zM4 17v2h2v-2H4zm14 0v2h2v-2h-2z"/></svg>',
      'application/zip': '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M20 22H4a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1h16a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1zm-1-2V4H5v16h14zm-5-8v5h-4v-3h2v-2h2zm-2-8h2v2h-2V4zm-2 2h2v2h-2V6zm2 2h2v2h-2V8zm-2 2h2v2h-2v-2z"/></svg>',
      'application/gzip': '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M20 22H4a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1h16a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1zm-1-2V4H5v16h14zm-5-8v5h-4v-3h2v-2h2zm-2-8h2v2h-2V4zm-2 2h2v2h-2V6zm2 2h2v2h-2V8zm-2 2h2v2h-2v-2z"/></svg>',
    };

    const app = createApp({
      data: () => (
        {
          currentDirectory: ROOT_DIR,
          showThumbnails: false,
          tree: {
            files: [],
            directories: [],
          },
        }
      ),
      methods: {
        toggleInfo() {
          this.showInfo = !this.showInfo;
        },
        closeInfo() {
          this.showInfo = false;
        },
        getIcon({mimeType, path}) {
          if (this.showThumbnails && (/^image/).test(mimeType)) {
            return `<img src="${path}"/>`;
          }

          return MIMETYPE_ICON_MAP[mimeType] || MIMETYPE_ICON_MAP['application/octet-stream'];
        },
        onDirectoryClick(path) {
          this.currentDirectory = path;
          this.tree = FS_STRUCTURE[this.currentDirectory];
        },
      },
      mounted() {
        this.tree = FS_STRUCTURE[this.currentDirectory];
      },
      watch: {
        currentDirectory() {
          console.log(
            JSON.stringify(
              {
                [`${this.currentDirectory}`]: this.tree,
              },
            ),
          );
        },
      },
    });
    
    app.directive(
      'click-outside',
      (el, binding, vnode) => {
        console.log(el);
        document.addEventListener('click', (event) => {
          if (
            el.contains(event.target)
            || (/info/).test(event.target.className)
            || (/info/).test(event.target.parentElement.className)
            || (/info/).test(event.target.parentElement.parentElement.className)
          ) {
            return;
          }
          binding.value(event);
        });
      },
    );
    
    app.mount('#app');
  </script>

  <style>
    html, body {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: sans-serif;
      width: 100%;
      height: 100%;
      overflow: hidden;
    }
    #app {
      overflow-x: auto;
      overflow-y: scroll;
    }
    svg {
      display: inline-block;
      fill: currentColor;
    }
    .directories svg,
    .files svg {
      width: 64px;
    }
    .files.thumbnails svg,
    .files.thumbnails img {
      width: 128px;
    }
    .file-name {
      overflow-wrap: break-word;
    }
  </style>
</body>
</html>
